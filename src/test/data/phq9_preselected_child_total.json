{
  "id": "44249-1-x",
  "meta": {
    "versionId": "1",
    "lastUpdated": "2021-02-24T03:13:01.000-05:00",
    "source": "#FYIr64hNY3fVUo34",
    "profile": [
      "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire|2.7"
    ],
    "tag": [
      {
        "code": "lformsVersion: 28.1.1"
      }
    ]
  },
  "extension": [],
  "identifier": [
    {
      "system": "http://loinc.org",
      "value": "44249-1"
    }
  ],
  "code": [
    {
      "system": "http://loinc.org",
      "code": "44249-1",
      "display": "PHQ-9 quick depression assessment panel"
    }
  ],
  "subjectType": [
    "Patient",
    "Person"
  ],
  "status": "draft",
  "name": "PHQ-9 quick depression assessment panel",
  "title": "PHQ-9 quick depression assessment panel",
  "resourceType": "Questionnaire",
  "item": [
    {
      "type": "choice",
      "code": [
        {
          "system": "http://loinc.org",
          "code": "44251-7",
          "display": "Poor appetite or overeating"
        }
      ],
      "extension": [
        {
          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-observationLinkPeriod",
          "valueDuration": {
            "value": 1,
            "unit": "year",
            "system": "http://unitsofmeasure.org",
            "code": "a"
          }
        },
        {
          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-observationExtract",
          "valueBoolean": true
        },
        {
          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
          "valueCodeableConcept": {
            "coding": [
              {
                "system": "http://hl7.org/fhir/questionnaire-item-control",
                "code": "drop-down",
                "display": "Drop down"
              }
            ],
            "text": "Drop down"
          }
        }
      ],
      "required": true,
      "linkId": "/44251-7",
      "text": "Poor appetite or overeating",
      "answerOption": [
        {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-optionPrefix",
              "valueString": "0"
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/ordinalValue",
              "valueDecimal": 0
            }
          ],
          "valueCoding": {
            "code": "LA6568-5",
            "display": "Not at all"
          }
        },
        {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-optionPrefix",
              "valueString": "1"
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/ordinalValue",
              "valueDecimal": 1
            }
          ],
          "valueCoding": {
            "code": "LA6569-3",
            "display": "Several days"
          }
        },
        {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-optionPrefix",
              "valueString": "2"
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/ordinalValue",
              "valueDecimal": 2
            }
          ],
          "valueCoding": {
            "code": "LA6570-1",
            "display": "More than half the days"
          }
        },
        {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-optionPrefix",
              "valueString": "3"
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/ordinalValue",
              "valueDecimal": 3
            }
          ],
          "valueCoding": {
            "code": "LA6571-9",
            "display": "Nearly every day"
          }
        }
      ]
    },
    {
      "type": "choice",
      "code": [
        {
          "system": "http://loinc.org",
          "code": "44258-2",
          "display": "Feeling bad about yourself-or that you are a failure or have let yourself or your family down"
        }
      ],
      "extension": [
        {
          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-observationLinkPeriod",
          "valueDuration": {
            "value": 1,
            "unit": "year",
            "system": "http://unitsofmeasure.org",
            "code": "a"
          }
        },
        {
          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-observationExtract",
          "valueBoolean": true
        },
        {
          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
          "valueCodeableConcept": {
            "coding": [
              {
                "system": "http://hl7.org/fhir/questionnaire-item-control",
                "code": "drop-down",
                "display": "Drop down"
              }
            ],
            "text": "Drop down"
          }
        }
      ],
      "required": true,
      "linkId": "/44258-2",
      "text": "Feeling bad about yourself-or that you are a failure or have let yourself or your family down",
      "answerOption": [
        {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-optionPrefix",
              "valueString": "0"
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/ordinalValue",
              "valueDecimal": 0
            }
          ],
          "valueCoding": {
            "code": "LA6568-5",
            "display": "Not at all"
          }
        },
        {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-optionPrefix",
              "valueString": "1"
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/ordinalValue",
              "valueDecimal": 1
            }
          ],
          "valueCoding": {
            "code": "LA6569-3",
            "display": "Several days"
          }
        },
        {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-optionPrefix",
              "valueString": "2"
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/ordinalValue",
              "valueDecimal": 2
            }
          ],
          "valueCoding": {
            "code": "LA6570-1",
            "display": "More than half the days"
          }
        },
        {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-optionPrefix",
              "valueString": "3"
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/ordinalValue",
              "valueDecimal": 3
            }
          ],
          "valueCoding": {
            "code": "LA6571-9",
            "display": "Nearly every day"
          }
        }
      ]
    },
    {
      "type": "group",
      "code": [
        {
          "code": "45900-0",
          "display": "Group 1"
        }
      ],
      "required": false,
      "linkId": "/45900-0",
      "text": "Group 1",
      "item": [
        {
          "type": "decimal",
          "code": [
            {
              "system": "http://loinc.org",
              "code": "44261-6",
              "display": "Patient health questionnaire 2 item total score"
            }
          ],
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-displayCategory",
              "valueCodeableConcept": {
                "coding": [
                  {
                    "display": "The PHQ-9 is the standard (and most commonly used) depression measure, and it ranges from 0-27 Scoring: Add up all checked boxes on PHQ-9. For every check: Not at all = 0; Several days = 1; More than half the days = 2; Nearly every day = 3 (the scores are the codes that appear in the answer list for each of the PHQ-9 problem panel terms). Interpretation: 1-4 = Minimal depression; 5-9 = Mild depression; 10-14 = Moderate depression; 15-19 = Moderately severe depression; 20-27 = Severed depression."
                  }
                ],
                "text": "The PHQ-9 is the standard (and most commonly used) depression measure, and it ranges from 0-27 Scoring: Add up all checked boxes on PHQ-9. For every check: Not at all = 0; Several days = 1; More than half the days = 2; Nearly every day = 3 (the scores are the codes that appear in the answer list for each of the PHQ-9 problem panel terms). Interpretation: 1-4 = Minimal depression; 5-9 = Mild depression; 10-14 = Moderate depression; 15-19 = Moderately severe depression; 20-27 = Severed depression."
              }
            },
            {
              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-observationLinkPeriod",
              "valueDuration": {
                "value": 1,
                "unit": "year",
                "system": "http://unitsofmeasure.org",
                "code": "a"
              }
            },
            {
              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-observationExtract",
              "valueBoolean": true
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-unit",
              "valueCoding": {
                "display": "{score}"
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "a",
                "language": "text/fhirpath",
                "expression": "%questionnaire.item.where(linkId = '/44251-7').answerOption.where(valueCoding.code=%resource.item.where(linkId = '/44251-7').answer.valueCoding.code).extension.where(url='http://hl7.org/fhir/StructureDefinition/ordinalValue').valueDecimal",
                "extension": [
                  {
                    "url": "http://lhcforms.nlm.nih.gov/fhir/ext/rule-editor-score-variable",
                    "valueBoolean": true
                  }
                ]
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "b",
                "language": "text/fhirpath",
                "expression": "%questionnaire.item.where(linkId = '/44258-2').answerOption.where(valueCoding.code=%resource.item.where(linkId = '/44258-2').answer.valueCoding.code).extension.where(url='http://hl7.org/fhir/StructureDefinition/ordinalValue').valueDecimal",
                "extension": [
                  {
                    "url": "http://lhcforms.nlm.nih.gov/fhir/ext/rule-editor-score-variable",
                    "valueBoolean": true
                  }
                ]
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/variable",
              "valueExpression": {
                "name": "any_questions_answered",
                "language": "text/fhirpath",
                "expression": "%a.exists() or %b.exists()",
                "extension": [
                  {
                    "url": "http://lhcforms.nlm.nih.gov/fhir/ext/rule-editor-score-variable",
                    "valueBoolean": true
                  }
                ]
              }
            },
            {
              "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-calculatedExpression",
              "valueExpression": {
                "description": "Total score calculation",
                "language": "text/fhirpath",
                "expression": "iif(%any_questions_answered, iif(%a.exists(), %a, 0) + iif(%b.exists(), %b, 0), {})",
                "extension": [
                  {
                    "url": "http://lhcforms.nlm.nih.gov/fhir/ext/rule-editor-score-expression-linkids",
                    "valueString": "[\"/44251-7\",\"/44258-2\"]"
                  }
                ]
              }
            }
          ],
          "required": false,
          "linkId": "/39156-5",
          "text": "Patient health questionnaire 2 item total score"
        }
      ]
    },

    {
      "type": "choice",
      "code": [
        {
          "system": "http://loinc.org",
          "code": "69722-7",
          "display": "How difficult have these problems made it for you to do your work, take care of things at home, or get along with other people?"
        }
      ],
      "extension": [
        {
          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-displayCategory",
          "valueCodeableConcept": {
            "coding": [
              {
                "display": "If you checked off any problems on this questionnaire"
              }
            ],
            "text": "If you checked off any problems on this questionnaire"
          }
        },
        {
          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-observationLinkPeriod",
          "valueDuration": {
            "value": 1,
            "unit": "year",
            "system": "http://unitsofmeasure.org",
            "code": "a"
          }
        },
        {
          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-observationExtract",
          "valueBoolean": true
        },
        {
          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
          "valueCodeableConcept": {
            "coding": [
              {
                "system": "http://hl7.org/fhir/questionnaire-item-control",
                "code": "drop-down",
                "display": "Drop down"
              }
            ],
            "text": "Drop down"
          }
        }
      ],
      "required": false,
      "linkId": "/69722-7",
      "text": "How difficult have these problems made it for you to do your work, take care of things at home, or get along with other people?",
      "answerOption": [
        {
          "valueCoding": {
            "code": "LA6572-7",
            "display": "Not difficult at all"
          }
        },
        {
          "valueCoding": {
            "code": "LA6573-5",
            "display": "Somewhat difficult"
          }
        },
        {
          "valueCoding": {
            "code": "LA6575-0",
            "display": "Very difficult"
          }
        },
        {
          "valueCoding": {
            "code": "LA6574-3",
            "display": "Extremely difficult"
          }
        }
      ]
    }
  ]
}
