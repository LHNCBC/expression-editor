<div>
  <div>    
    <input
      [(ngModel)]="simple"
      [id]="'simple-expression-' + index"
      (ngModelChange)="onExpressionChange($event)"
      class="simple-expression"
      aria-label="Easy Path Expression Text Input"
      [style]="lhcStyle.input"
      [attr.aria-invalid]="hasError"
      aria-describedby="fhirpath-error"
      [ngClass]="{'field-error': hasError}"
     
      [class.field-error]="exp.errors"
      #exp="ngModel"
      lhcExpressionValidator
      [lhcExpressionValidateInput]="validateInput"
      [lhcExpressionValidatorParams]="{'section': (index === 'final') ? 'Output Expression' : 'Item Variables',
                                       'field': 'expression',
                                       'id': 'simple-expression-' + index, 'name': variableName, 'index': index}"
      />

    <lhc-syntax-preview
      [syntax]="(exp.invalid) ? exp.errors.message : fhirPathExpression"
      [lhcStyle]="{'width': 'auto'}"
      [hasError]="exp.invalid">
    </lhc-syntax-preview>
  </div>
</div>